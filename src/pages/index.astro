---
import Container from "@/components/Container.astro";
import RootLayout from "@/layouts/RootLayout.astro";
import PostListItem from "@/components/PostListItem.astro";
import { getPublishedPosts, sortPostsByDateDesc } from "@/lib/blog";

const posts = sortPostsByDateDesc(await getPublishedPosts()).slice(0, 10);
---

<RootLayout>
  <Container>
    <div class="space-y-6">
      <h1 class="text-2xl font-semibold">Recent posts</h1>
      <div class="space-y-4">
        {posts.map((post) => (
          <PostListItem post={post} />
        ))}
      </div>
      <a href="/posts" class="text-base font-medium underline">
        Show all posts
      </a>
    </div>
  </Container>
</RootLayout>
